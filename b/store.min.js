function refreshStore(){for(m.innerHTML="",i=0;i<battlegrounds.length;i++){var e="";for(e=e+"<section><h1>"+battlegrounds[i]+"<span class='button' onclick='window.location=\"battle.html#"+battlegrounds[i]+"\"'>Play</span></h1><div style='background-image:url(img/shuffle.png)' onclick='purchase(\""+battlegrounds[i]+"\")'>Random</div>",j=0;j<goodNames[battlegrounds[i]].length;j++)if("true"!=localStorage[good[goodNames[battlegrounds[i]][j]].name]){var a=good[goodNames[battlegrounds[i]][j]].name.replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-");e+="<div style='background-image:url(https://bocracy.com/assets/"+good[goodNames[battlegrounds[i]][j]].info[3]+"/"+good[goodNames[battlegrounds[i]][j]].name.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".")+".png)' onclick='purchase(\""+battlegrounds[i]+"."+good[goodNames[battlegrounds[i]][j]].name+"\")'>"+a+"</div>"}e.includes("</div><div")||(e="<section><h1>"+battlegrounds[i]+"<span class='button' onclick='window.location=\"battle.html#"+battlegrounds[i]+"\"'>Play</span></h1>"),e+="</section>",m.innerHTML+=e}}function showConfirm(e,a,o){id("confirmText").innerHTML=e,id("confirmYesBtn").setAttribute("onclick","eval("+a+"); document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';"),id("confirmNoBtn").setAttribute("onclick","eval("+o+"); document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';"),id("confirmPopup").style.display="block",id("popupOverlay").style.display="block"}function showAlert(e){id("unlockedPopupText").innerHTML=e,id("unlockedPopupImg").style.display="none",id("unlockedPopup").style.display="block",id("popupOverlay").style.display="block",id("unlockedPopupBtn").setAttribute("onclick","document.getElementById('unlockedPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';")}function unlockConfirmed(e){unlock(e)}function purchase(e){e.includes(".")?showConfirm("Buy "+e.substring(e.indexOf(".")+1,e.length).replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-")+" for "+good[e.substring(e.indexOf(".")+1,e.length)].info[2]+" redbacks?","unlockConfirmed('"+e+"')"):showConfirm("Buy a character from "+e+" for 500 redbacks?","unlockConfirmed('"+e+"')")}function unlock(e){if(e.includes(".")){var a=e.toString().split(".")[1];if("true"==localStorage[good[a].name])return void showAlert("You have unlocked this character already");if(localStorage.coins<good[a].info[2])return void showAlert("Insufficient redbacks");localStorage.coins-=good[a].info[2]}else{for(i=0;i<goodNames[e].length&&"false"!=localStorage[goodNames[e][i]];i++)if(i==goodNames[e].length-1)return showAlert("You have unlocked all the characters here"),void setTimeout(function(){id("popupOverlay").style.display="block"},500);for(var a=goodNames[e][Math.floor(Math.random()*goodNames[e].length)];"true"==localStorage[a];)a=goodNames[e][Math.floor(Math.random()*goodNames[e].length)];localStorage.coins-=500}localStorage[a]="true";var o=a.toString().replace("_"," ").replace("_"," ").replace("_"," ").replace("D",".").replace("Boss","");id("unlockedPopupText").innerHTML="You unlocked the "+o+" "+good[a].info[3],id("unlockedPopupImg").style.display="block",id("unlockedPopupImg").src="https://bocracy.com/assets/"+good[a].info[3]+"/"+a.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".").replace("Boss","")+".png",id("unlockedPopupBtn").setAttribute("onclick","document.getElementById('unlockedPopup').style.display = 'none';document.getElementById('popupOverlay').style.display = 'none'"),id("unlockedPopup").style.display="block",id("popupOverlay").style.display="block",id("coins").innerHTML=localStorage.coins,refreshStore()}if(""!=window.location.hash){var current=window.location.hash.toString().replace("#","");current.includes("firstTime")&&(void 0==localStorage["has"+current.toString().replace("firstTime","").charAt(0).toUpperCase()+current.toString().replace("firstTime","").substring(1)]?(localStorage.coins?localStorage.coins=parseFloat(localStorage.coins)+500:localStorage.coins=500,localStorage["has"+current.toString().replace("firstTime","").charAt(0).toUpperCase()+current.toString().replace("firstTime","").substring(1)]="true",unlock(current.replace("firstTime",""))):(window.location=window.location.toString().replace("firstTime",""),location.reload()))}id("coins").innerHTML=localStorage.coins,isMobile.iOS()||(id("playButton").style.display="none");var battlegrounds=["aonarchy","ammunist","ciftian","citatian"],m=document.querySelector("main");refreshStore();