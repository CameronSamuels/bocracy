function refreshStore(){for(m.innerHTML="",i=0;i<battlegrounds.length;i++){var e="";for(e=e+"<section><h1>"+battlegrounds[i]+"<span class='button' onclick='window.location=\"battle.html#"+battlegrounds[i]+"\"'>Play</span></h1><div style='background-image:url(img/shuffle.png)' onclick='purchase(\""+battlegrounds[i]+"\")'>Random</div>",j=0;j<goodNames[battlegrounds[i]].length;j++)if("true"!=localStorage[good[goodNames[battlegrounds[i]][j]].name]){var a=good[goodNames[battlegrounds[i]][j]].name.replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-");e+="<div style='background-image:url(https://bocracy.com/assets/"+good[goodNames[battlegrounds[i]][j]].info[3]+"/"+good[goodNames[battlegrounds[i]][j]].name.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".")+".png)' onclick='purchase(\""+battlegrounds[i]+"."+good[goodNames[battlegrounds[i]][j]].name+"\")'>"+a+"</div>"}e.includes("</div><div")||(e=""),e+="</section>",m.innerHTML+=e}""==m.innerHTML&&(m.innerHTML="<div style='color:white;margin:10vh 0'><h2>You have unlocked all the characters!</h2><h3>Come back soon!</h3></div>")}function showConfirm(e,a,t){id("confirmText").innerHTML=e,id("confirmYesBtn").setAttribute("ontouchend","eval("+a+"); setTimeout(function(){document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none'},350)"),id("confirmNoBtn").setAttribute("ontouchend","eval("+t+"); setTimeout(function(){document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none'},350)"),id("confirmPopup").style.display="block",id("popupOverlay").style.display="block"}function showAlert(e){id("unlockedPopupText").innerHTML=e,id("unlockedPopupImg").style.display="none",id("unlockedPopup").style.display="block",id("popupOverlay").style.display="block",id("unlockedPopupBtn").setAttribute("ontouchend","setTimeout(function(){document.getElementById('unlockedPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none'},350)")}function unlockConfirmed(e){unlock(e)}function purchase(e){e.includes(".")?showConfirm("<p>Purchase</p>"+e.substring(e.indexOf(".")+1,e.length).replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-")+"<p>for<br />"+good[e.substring(e.indexOf(".")+1,e.length)].info[2]+" redbacks</p>","unlockConfirmed('"+e+"')"):showConfirm("<p>Purchase random</p>"+e+" <p>character for<br />700 redbacks</p>","unlockConfirmed('"+e+"')")}function unlock(e){if(e.includes(".")){var a=e.toString().split(".")[1];if("true"==localStorage[good[a].name])return void showAlert("You have unlocked this character already");if(localStorage.coins<good[a].info[2])return void showAlert("Insufficient redbacks");localStorage.coins-=good[a].info[2]}else{for(i=0;i<goodNames[e].length&&"false"!=localStorage[goodNames[e][i]];i++)if(i==goodNames[e].length-1)return showAlert("You have unlocked all the characters here"),void setTimeout(function(){id("popupOverlay").style.display="block"},500);if(localStorage.coins<700)return void showAlert("Insufficient redbacks");for(var a=goodNames[e][Math.floor(Math.random()*goodNames[e].length)];"true"==localStorage[a];)a=goodNames[e][Math.floor(Math.random()*goodNames[e].length)];localStorage.coins-=700}localStorage[a]="true";var t=a.toString().replace("_"," ").replace("_"," ").replace("_"," ").replace("D",".").replace("Boss","");id("unlockedPopupText").innerHTML="You unlocked the "+t+" "+good[a].info[3],id("unlockedPopupImg").style.display="block",id("unlockedPopupImg").src="https://bocracy.com/assets/"+good[a].info[3]+"/"+a.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".").replace("Boss","")+".png",id("unlockedPopupBtn").setAttribute("ontouchend","setTimeout(function(){document.getElementById('unlockedPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none'},350)"),id("unlockedPopup").style.display="block",setTimeout(function(){id("popupOverlay").style.display="block"},400),id("coins").innerHTML=localStorage.coins,refreshStore()}if(""!=window.location.hash){var current=window.location.hash.toString().replace("#","");purchase(current)}id("coins").innerHTML=localStorage.coins,isMobile.iOS()||(id("playButton").style.display="none");var battlegrounds=["aonarchy","ammunist","ciftian","citatian"],m=document.querySelector("main");refreshStore();