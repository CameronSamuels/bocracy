function refreshStore(){for(m.innerHTML="",i=0;i<battlegrounds.length;i++){var a="";for(a=a+"<section><h1>"+battlegrounds[i]+"<span class='button' onclick='window.location=\"battle.html#"+battlegrounds[i]+"\"'>Play</span></h1><div style='background-image:url(img/shuffle.png)' onclick='purchase(\""+battlegrounds[i]+"\")'>Random</div>",j=0;j<goodNames[battlegrounds[i]].length;j++)if("true"!=localStorage[good[goodNames[battlegrounds[i]][j]].name]){var e=good[goodNames[battlegrounds[i]][j]].name.replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-");a+="<div style='background-image:url(https://bocracy.com/assets/"+good[goodNames[battlegrounds[i]][j]].info[3]+"/"+good[goodNames[battlegrounds[i]][j]].name.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".")+".png)' onclick='purchase(\""+battlegrounds[i]+"."+good[goodNames[battlegrounds[i]][j]].name+"\")'>"+e+"</div>"}a.includes("</div><div")||(a="<section><h1>"+battlegrounds[i]+"<span class='button' onclick='window.location=\"battle.html#"+battlegrounds[i]+"\"'>Play</span></h1>"),a+="</section>",m.innerHTML+=a}}function showConfirm(a,e,o){id("confirmText").innerHTML=a,id("confirmYesBtn").setAttribute("onclick","eval("+e+"); document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';"),id("confirmNoBtn").setAttribute("onclick","eval("+o+"); document.getElementById('confirmPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';"),id("confirmPopup").style.display="block",id("popupOverlay").style.display="block"}function showAlert(a){id("unlockedPopupText").innerHTML=a,id("unlockedPopupImg").style.display="none",id("unlockedPopup").style.display="block",id("popupOverlay").style.display="block",id("unlockedPopupBtn").setAttribute("onclick","document.getElementById('unlockedPopup').style.display = 'none'; document.getElementById('popupOverlay').style.display = 'none';")}function unlockConfirmed(a){unlock(a)}function purchase(a){a.includes(".")?showConfirm("Buy "+a.substring(a.indexOf(".")+1,a.length).replace("D",".").replace("_"," ").replace("_"," ").replace("_"," ").replace("__","-")+" for "+good[a.substring(a.indexOf(".")+1,a.length)].info[2]+" redbacks?","unlockConfirmed('"+a+"')"):showConfirm("Buy a character from "+a+" for 500 redbacks?","unlockConfirmed('"+a+"')")}function unlock(a){if(a.includes(".")){var e=a.toString().split(".")[1];if("true"==localStorage[good[e].name])return void showAlert("You have unlocked this character already");if(localStorage.coins<good[e].info[2])return void showAlert("Insufficient redbacks");localStorage.coins-=good[e].info[2]}else{for(i=0;i<goodNames[a].length&&"false"!=localStorage[goodNames[a][i]];i++)if(i==goodNames[a].length-1)return showAlert("You have unlocked all the characters here"),void setTimeout(function(){id("popupOverlay").style.display="block"},500);for(var e=goodNames[a][Math.floor(Math.random()*goodNames[a].length)];"true"==localStorage[e];)e=goodNames[a][Math.floor(Math.random()*goodNames[a].length)];localStorage.coins-=500}localStorage[e]="true";var o=e.toString().replace("_"," ").replace("_"," ").replace("_"," ").replace("D",".").replace("Boss","");id("unlockedPopupText").innerHTML="You unlocked the "+o+" "+good[e].info[3],id("unlockedPopupImg").style.display="block",id("unlockedPopupImg").src="https://bocracy.com/assets/"+good[e].info[3]+"/"+e.toString().replace("_","-").replace("_","-").replace("_","-").replace("D",".").replace("Boss","")+".png",id("unlockedPopupBtn").setAttribute("onclick","document.getElementById('unlockedPopup').style.display = 'none';document.getElementById('popupOverlay').style.display = 'none'"),id("unlockedPopup").style.display="block",id("popupOverlay").style.display="block",id("coins").innerHTML=localStorage.coins,refreshStore()}if(""!=window.location.hash){var current=window.location.hash.toString().replace("#","");current.includes("firstTime")&&(void 0==localStorage["has"+current.toString().replace("firstTime","").charAt(0).toUpperCase()+current.toString().replace("firstTime","").substring(1)]?(localStorage.coins?localStorage.coins=parseFloat(localStorage.coins)+500:localStorage.coins=500,localStorage["has"+current.toString().replace("firstTime","").charAt(0).toUpperCase()+current.toString().replace("firstTime","").substring(1)]="true",unlock(current.replace("firstTime",""))):(window.location=window.location.toString().replace("firstTime",""),location.reload()))}id("coins").innerHTML=localStorage.coins,isMobile.iOS()||(id("playButton").style.display="none");var battlegrounds=["aonarchy","ammunist","ciftian","citatian"],m=document.querySelector("main");refreshStore();